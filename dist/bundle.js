(()=>{"use strict";document.body.innerHTML='\n<div class="keyboard">\n<div class="keyboard__output">\n    <textarea class="textarea" name="" id="" cols="30" rows="10" placeholder="Сделано на Windows ОС. Переключение языка левые Shift + Alt."></textarea>\n</div>\n<div class="keyboard__input">\n    <button><span class="symbol" >~</span><span class="main-symbol" >`</span></button>\n    <button><span class="symbol">!</span><span class="main-symbol">1</span> </button>\n    <button><span class="symbol">@</span><span class="main-symbol">2</span></button>\n    <button><span class="symbol">#</span><span class="main-symbol">3</span></button>\n    <button><span class="symbol">$</span><span class="main-symbol">4</span></button>\n    <button><span class="symbol">%</span><span class="main-symbol">5</span></button>\n    <button><span class="symbol">^</span><span class="main-symbol">6</span></button>\n    <button><span class="symbol">&</span><span class="main-symbol">7</span></button>\n    <button><span class="symbol">*</span><span class="main-symbol">8</span></button>\n    <button><span class="symbol">(</span><span class="main-symbol">9</span></button>\n    <button><span class="symbol">)</span><span class="main-symbol">0</span></button>\n    <button><span class="symbol">—</span><span class="main-symbol">-</span></button>\n    <button><span class="symbol">+</span><span class="main-symbol">=</span></button>\n    <button class="backscape"><span class="main-symbol">Backspace</span></button>\n    <button><span class="main-symbol">Tab</span></button>\n    <button><span class="main-symbol">q</span></button>\n    <button><span class="main-symbol">w</span></button>\n    <button><span class="main-symbol">e</span></button>\n    <button><span class="main-symbol">r</span></button>\n    <button><span class="main-symbol">t</span></button>\n    <button><span class="main-symbol">y</span></button>\n    <button><span class="main-symbol">u</span></button>\n    <button><span class="main-symbol">i</span></button>\n    <button><span class="main-symbol">o</span></button>\n    <button><span class="main-symbol">p</span></button>\n    <button><span class="symbol">{</span><span class="main-symbol">[</span></button>\n    <button><span class="symbol">}</span><span class="main-symbol">]</span></button>\n    <button><span class="main-symbol">\\</span></button>\n    <button><span class="main-symbol">DEL</span></button>\n    <button class="caps-lock"><span class="main-symbol">Caps Lock</span></button>\n    <button><span class="main-symbol">a</span></button>\n    <button><span class="main-symbol">s</span></button>\n    <button><span class="main-symbol">d</span></button>\n    <button><span class="main-symbol">f</span></button>\n    <button><span class="main-symbol">g</span></button>\n    <button><span class="main-symbol">h</span></button>\n    <button><span class="main-symbol">j</span></button>\n    <button><span class="main-symbol">k</span></button>\n    <button><span class="main-symbol">l</span></button>\n    <button><span class="symbol">:</span><span class="main-symbol">;</span></button>\n    <button><span class="main-symbol">"</span></button>\n    <button class="enter"><span class="main-symbol">ENTER</span></button>\n    <button class="shift"><span class="main-symbol">Shift</span></button>\n    <button><span class="main-symbol">z</span></button>\n    <button><span class="main-symbol">x</span></button>\n    <button><span class="main-symbol">c</span></button>\n    <button><span class="main-symbol">v</span></button>\n    <button><span class="main-symbol">b</span></button>\n    <button><span class="main-symbol">n</span></button>\n    <button><span class="main-symbol">m</span></button>\n    <button><span class="symbol"><</span><span class="main-symbol">,</span></button>\n    <button><span class="symbol">></span><span class="main-symbol">.</span></button>\n    <button><span class="symbol">?</span><span class="main-symbol">/</span></button>\n    <button><span class="main-symbol">▲</span></button>\n    <button><span class="main-symbol">Shift</span></button>\n    <button><span class="main-symbol">Ctrl</span></button>\n    <button><span class="main-symbol">Win</span></button>\n    <button><span class="main-symbol">Alt</span></button>\n    <button class="whitespace"><span class="main-symbol"></span></button>\n    <button><span class="main-symbol">Alt</span></button>\n    <button><span class="main-symbol">Ctrl</span></button>\n    <button><span class="main-symbol">◄</span></button>\n    <button><span class="main-symbol">▼</span></button>\n    <button><span class="main-symbol">►</span></button>\n</div>\n</div>';const n=JSON.parse('[\n\n    {\n        "code": "Backquote",\n        "english": "`",\n        "english_shift": "~" ,\n        "russian": "ё",\n        "russian_shift": "Ё",\n        "russian_caps": "Ё",\n        "english_caps": "`",\n        "output": "true"\n    },\n\n    {\n        "code": "Digit1",\n        "english": "1",\n        "english_shift": "!",\n        "russian": "1",\n        "russian_shift": "!",\n        "russian_caps": "1",\n        "english_caps": "1",\n        "output": "true"\n    },\n\n    {\n        "code": "Digit2",\n        "english": "2",\n        "english_shift": "@",\n        "russian": "2",\n        "russian_shift": "\\"",\n        "russian_caps": "2",\n        "english_caps": "2",\n        "output": "true"\n    },\n\n    {\n        "code": "Digit3",\n        "english": "3",\n        "english_shift": "#",\n        "russian": "3",\n        "russian_shift": "№",\n        "russian_caps": "3",\n        "english_caps": "3",\n        "output": "true"\n    },\n\n    {\n        "code": "Digit4",\n        "english": "4",\n        "english_shift": "$",\n        "russian": "4",\n        "russian_shift": ";",\n        "russian_caps": "4",\n        "english_caps": "4",\n        "output": "true"\n    },\n\n    {\n        "code": "Digit5",\n        "english": "5",\n        "english_shift": "%",\n        "russian": "5",\n        "russian_shift": "%",\n        "russian_caps": "5",\n        "english_caps": "5",\n        "output": "true"\n    },\n\n    {\n        "code": "Digit6",\n        "english": "6",\n        "english_shift": "^",\n        "russian": "6",\n        "russian_shift": ":",\n        "russian_caps": "6",\n        "english_caps": "6",\n        "output": "true"\n    },\n\n    {\n        "code": "Digit7",\n        "english": "7",\n        "english_shift": "&",\n        "russian": "7",\n        "russian_shift": "?",\n        "russian_caps": "7",\n        "english_caps": "7",\n        "output": "true"\n    },\n\n    {\n        "code": "Digit8",\n        "english": "8",\n        "english_shift": "*",\n        "russian": "8",\n        "russian_shift": "*",\n        "russian_caps": "8",\n        "english_caps": "8",\n        "output": "true"\n    },\n\n    {\n        "code": "Digit9",\n        "english": "9",\n        "english_shift": "(",\n        "russian": "9",\n        "russian_shift": "(",\n        "russian_caps": "9",\n        "english_caps": "9",\n        "output": "true"\n    },\n\n    {\n        "code": "Digit0",\n        "english": "0",\n        "english_shift": ")",\n        "russian": "0",\n        "russian_shift": ")",\n        "russian_caps": "0",\n        "english_caps": "0",\n        "output": "true"\n    },\n\n    {\n        "code": "Minus",\n        "english": "-",\n        "english_shift": "_",\n        "russian": "-",\n        "russian_shift": "_",\n        "russian_caps": "-",\n        "english_caps": "-",\n        "output": "true"\n    },\n\n    {\n        "code": "Equal",\n        "english": "=",\n        "english_shift": "+",\n        "russian": "=",\n        "russian_shift": "+",\n        "russian_caps": "=",\n        "english_caps": "=",\n        "output": "true"\n    },\n\n    {\n        "code": "Backspace",\n        "english": "Backspace",\n        "english_shift": "Backspace",\n        "russian": "Backspace",\n        "russian_shift": "Backspace",\n        "russian_caps": "Backspace",\n        "english_caps": "Backspace",\n        "output": "false"\n    },\n\n    {\n        "code": "Tab",\n        "english": "Tab",\n        "english_shift": "Tab",\n        "russian": "Tab",\n        "russian_shift": "Tab",\n        "russian_caps": "Tab",\n        "english_caps": "Tab",\n        "output": "false"\n    },\n\n    {\n        "code": "KeyQ",\n        "english": "q",\n        "english_shift": "Q",\n        "russian": "й",\n        "russian_shift": "Й",\n        "russian_caps": "Й",\n        "english_caps": "Q",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyW",\n        "english": "w",\n        "english_shift": "W",\n        "russian": "ц",\n        "russian_shift": "Ц",\n        "russian_caps": "Ц",\n        "english_caps": "W",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyE",\n        "english": "e",\n        "english_shift": "E",\n        "russian": "у",\n        "russian_shift": "У",\n        "russian_caps": "E",\n        "english_caps": "У",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyR",\n        "english": "r",\n        "english_shift": "R",\n        "russian": "к",\n        "russian_shift": "К",\n        "russian_caps": "К",\n        "english_caps": "R",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyT",\n        "english": "t",\n        "english_shift": "T",\n        "russian": "е",\n        "russian_shift": "Е",\n        "russian_caps": "Е",\n        "english_caps":  "T",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyY",\n        "english": "y",\n        "english_shift": "Y",\n        "russian": "н",\n        "russian_shift": "Н",\n        "russian_caps": "Н",\n        "english_caps": "Y",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyU",\n        "english": "u",\n        "english_shift": "U",\n        "russian": "г",\n        "russian_shift": "Г",\n        "russian_caps": "Г",\n        "english_caps": "U",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyI",\n        "english": "i",\n        "english_shift": "I",\n        "russian": "ш",\n        "russian_shift": "Ш",\n        "russian_caps": "Ш",\n        "english_caps": "I",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyO",\n        "english": "o",\n        "english_shift": "O",\n        "russian": "щ",\n        "russian_shift": "Щ",\n        "russian_caps": "Щ",\n        "english_caps": "O",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyP",\n        "english": "p",\n        "english_shift": "P",\n        "russian": "з",\n        "russian_shift": "З",\n        "russian_caps": "З",\n        "english_caps":  "P",\n        "output": "true"\n    },\n\n    {\n        "code": "BracketLeft",\n        "english": "[",\n        "english_shift": "{",\n        "russian": "х",\n        "russian_shift": "Х",\n        "russian_caps": "Х",\n        "english_caps": "[",\n        "output": "true"\n    },\n\n    {\n        "code": "BracketRight",\n        "english": "]",\n        "english_shift": "}",\n        "russian": "ъ",\n        "russian_shift": "Ъ",\n        "russian_caps": "Ъ",\n        "english_caps": "]",\n        "output": "true"\n    },\n\n    {\n        "code": "Backslash",\n        "english": "\\u005C" ,\n        "english_shift": "\\u005C",\n        "russian": "\\u005C",\n        "russian_shift": "\\u005C",\n        "russian_caps": "\\u005C", \n        "english_caps": "\\u005C" ,\n        "output": "true"\n    },\n\n    {\n        "code": "Delete",\n        "english": "DEL" ,\n        "english_shift": "DEL",\n        "russian": "DEL",\n        "russian_shift": "DEL",\n        "russian_caps": "DEL",\n        "english_caps": "DEL",\n        "output": "false"\n    },\n\n    {\n        "code": "CapsLock",\n        "english": "Caps Lock",\n        "english_shift": "Caps Lock",\n        "russian": "Caps Lock",\n        "russian_shift": "Caps Lock",\n        "russian_caps": "Caps Lock",\n        "english_caps": "Caps Lock",\n        "output": "false"\n    },\n\n    {\n        "code": "KeyA",\n        "english": "a",\n        "english_shift": "A",\n        "russian": "ф",\n        "russian_shift": "Ф",\n        "russian_caps": "Ф",\n        "english_caps": "A",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyS",\n        "english": "s",\n        "english_shift": "S",\n        "russian": "ы",\n        "russian_shift": "Ы",\n        "russian_caps": "Ы",\n        "english_caps": "S",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyD",\n        "english": "d",\n        "english_shift": "D",\n        "russian": "в",\n        "russian_shift": "В",\n        "russian_caps": "В",\n        "english_caps": "D",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyF",\n        "english": "f",\n        "english_shift": "F",\n        "russian": "а",\n        "russian_shift": "А",\n        "russian_caps": "А",\n        "english_caps": "F",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyG",\n        "english": "g",\n        "english_shift": "G",\n        "russian": "п",\n        "russian_shift": "П",\n        "russian_caps": "П",\n        "english_caps": "G",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyH",\n        "english": "h",\n        "english_shift": "H",\n        "russian": "р",\n        "russian_shift": "Р",\n        "russian_caps": "Р",\n        "english_caps": "H",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyJ",\n        "english": "j",\n        "english_shift": "J",\n        "russian": "о",\n        "russian_shift": "О",\n        "russian_caps": "О",\n        "english_caps": "J",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyK",\n        "english": "k",\n        "english_shift": "K",\n        "russian": "л",\n        "russian_shift": "Л",\n        "russian_caps": "Л",\n        "english_caps": "K",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyL",\n        "english": "l",\n        "english_shift": "L",\n        "russian": "д",\n        "russian_shift": "Д",\n        "russian_caps": "Д",\n        "english_caps": "L",\n        "output": "true"\n    },\n\n    {\n        "code": "Semicolon",\n        "english": ";",\n        "english_shift": ":",\n        "russian": "ж",\n        "russian_shift": "Ж",\n        "russian_caps": "Ж",\n        "english_caps": ";",\n        "output": "true"\n    },\n\n    {\n        "code": "Quote",\n        "english": "\\"",\n        "english_shift": "\\"",\n        "russian": "э",\n        "russian_shift": "Э",\n        "russian_caps": "Э",\n        "english_caps": "\\"",\n        "output": "true"\n    },\n\n    {\n        "code": "Enter",\n        "english": "ENTER",\n        "english_shift": "ENTER",\n        "russian": "ENTER",\n        "russian_shift": "ENTER",\n        "russian_caps": "ENTER",\n        "english_caps": "ENTER",\n        "output": "false"\n    },\n\n    {\n        "code": "ShiftLeft",\n        "english": "Shift",\n        "english_shift": "Shift",\n        "russian": "Shift",\n        "russian_shift": "Shift",\n        "russian_caps": "Shift",\n        "english_caps": "Shift",\n        "output": "false"\n    },\n\n    {\n        "code": "KeyZ",\n        "english": "z",\n        "english_shift": "Z",\n        "russian": "я",\n        "russian_shift": "Я",\n        "russian_caps": "Я",\n        "english_caps": "Z",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyX",\n        "english": "x",\n        "english_shift": "X",\n        "russian": "ч",\n        "russian_shift": "Ч",\n        "russian_caps": "Ч",\n        "english_caps": "X",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyC",\n        "english": "c",\n        "english_shift": "C",\n        "russian": "с",\n        "russian_shift": "С",\n        "russian_caps": "С",\n        "english_caps": "C",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyV",\n        "english": "v",\n        "english_shift": "V",\n        "russian": "м",\n        "russian_shift": "М",\n        "russian_caps":  "М",\n        "english_caps": "V",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyB",\n        "english": "b",\n        "english_shift": "B",\n        "russian": "и",\n        "russian_shift": "И",\n        "russian_caps": "И",\n        "english_caps": "B",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyN",\n        "english": "n",\n        "english_shift": "N",\n        "russian": "т",\n        "russian_shift": "Т",\n        "russian_caps": "Т",\n        "english_caps": "N",\n        "output": "true"\n    },\n\n    {\n        "code": "KeyM",\n        "english": "m",\n        "english_shift": "M",\n        "russian": "ь",\n        "russian_shift": "Ь",\n        "russian_caps": "Ь",\n        "english_caps": "M",\n        "output": "true"\n    },\n\n    {\n        "code": "Comma",\n        "english": ",",\n        "english_shift": "<",\n        "russian": "б",\n        "russian_shift": "Б",\n        "russian_caps": "Б",\n        "english_caps": ",",\n        "output": "true"\n    },\n\n    {\n        "code": "Period",\n        "english": ".",\n        "english_shift": ">",\n        "russian": "ю",\n        "russian_shift": "Ю",\n        "russian_caps": "Ю",\n        "english_caps": ".",\n        "output": "true"\n    },\n\n    {\n        "code": "Slash",\n        "english": "/",\n        "english_shift": "?",\n        "russian": ".",\n        "russian_shift": ",",\n        "russian_caps": ".",\n        "english_caps": "/",\n        "output": "true"\n    },\n\n    {\n        "code": "ArrowUp",\n        "english": "▲",\n        "english_shift": "▲",\n        "russian": "▲",\n        "russian_shift": "▲",\n        "russian_caps": "▲",\n        "english_caps": "▲",\n        "output": "false"\n    },\n\n    {\n        "code": "ShiftRight",\n        "english": "Shift",\n        "english_shift": "Shift",\n        "russian": "Shift",\n        "russian_shift": "Shift",\n        "russian_caps": "Shift",\n        "english_caps": "Shift",\n        "output": "false"\n    },\n\n    {\n        "code": "ControlLeft",\n        "english": "Ctrl",\n        "english_shift": "Ctrl",\n        "russian": "Ctrl",\n        "russian_shift": "Ctrl",\n        "russian_caps": "Ctrl",\n        "english_caps": "Ctrl",\n        "output": "false"\n    },\n\n    {\n        "code": "MetaLeft",\n        "english": "Win",\n        "english_shift": "Win",\n        "russian": "Win",\n        "russian_shift": "Win",\n        "russian_caps": "Win",\n        "english_caps": "Win",\n        "output": "false"\n    },\n\n    {\n        "code": "AltLeft",\n        "english": "Alt",\n        "english_shift": "Alt",\n        "russian": "Alt",\n        "russian_shift": "Alt",\n        "russian_caps": "Alt",\n        "english_caps": "Alt",\n        "output": "false"\n    },\n\n    {\n        "code": "Space",\n        "english": " ",\n        "english_shift": " ",\n        "russian": " ",\n        "russian_shift": " ",\n        "russian_caps": " ",\n        "english_caps": " ",\n        "output": "true"\n    },\n\n    {\n        "code": "AltRight",\n        "english": "Alt",\n        "english_shift": "Alt",\n        "russian": "Alt",\n        "russian_shift": "Alt",\n        "russian_caps": "Alt",\n        "english_caps": "Alt",\n        "output": "false"\n    },\n\n    {\n        "code": "ControlRight",\n        "english": "Ctrl",\n        "english_shift": "Ctrl",\n        "russian": "Ctrl",\n        "russian_shift": "Ctrl",\n        "russian_caps": "Ctrl",\n        "english_caps": "Ctrl",\n        "output": "false"\n    },\n\n    {\n        "code": "ArrowLeft",\n        "english": "◄",\n        "english_shift": "◄",\n        "russian": "◄",\n        "russian_shift": "◄",\n        "russian_caps": "◄",\n        "english_caps": "◄",\n        "output": "false"\n    },\n\n    {\n        "code": "ArrowDown",\n        "english": "▼",\n        "english_shift": "▼",\n        "russian": "▼",\n        "russian_shift": "▼",\n        "russian_caps": "▼",\n        "english_caps": "▼",\n        "output": "false"\n    },\n\n    {\n        "code": "ArrowRight",\n        "english": "►",\n        "english_shift": "►",\n        "russian": "►",\n        "russian_shift": "►",\n        "russian_caps": "►",\n        "english_caps": "►",\n        "output": "false"\n    }\n\n]'),s=JSON.parse('[\n\n    {\n        "code": "Backquote",\n        "english": "~" ,\n        "russian": ""\n    },\n\n    {\n        "code": "Digit1",\n        "english": "!",\n        "russian": "!"\n    },\n\n    {\n        "code": "Digit2",\n        "english": "@",\n        "russian": "\\""\n    },\n\n    {\n        "code": "Digit3",\n        "english": "#",\n        "russian": "№"\n    },\n\n    {\n        "code": "Digit4",\n        "english": "$",\n        "russian": ";"\n    },\n\n    {\n        "code": "Digit5",\n        "english": "%",\n        "russian": "%"\n    },\n\n    {\n        "code": "Digit6",\n        "english": "^",\n        "russian": ":"\n    },\n\n    {\n        "code": "Digit7",\n        "english": "&",\n        "russian": "?"\n    },\n\n    {\n        "code": "Digit8",\n        "english": "*",\n        "russian": "*"\n    },\n\n    {\n        "code": "Digit9",\n        "english": "(",\n        "russian": "("\n    },\n\n    {\n        "code": "Digit0",\n        "english": ")",\n        "russian": ")"\n    },\n\n    {\n        "code": "Minus",\n        "english": "—",\n        "russian": "—"\n    },\n\n    {\n        "code": "Equal",\n        "english": "+",\n        "russian": "+"\n    },\n\n    {\n        "code": "BracketLeft",\n        "english": "[",\n        "russian": ""\n    },\n\n    {\n        "code": "BracketRight",\n        "english": "]",\n        "russian": ""\n    },\n\n    {\n        "code": "Backslash",\n        "english": ":",\n        "russian": ""\n    },\n\n    {\n        "code": "Comma",\n        "english": "<",\n        "russian": ""\n    },\n\n    {\n        "code": "Period",\n        "english": ">",\n        "russian": ""\n    },\n\n    {\n        "code": "Slash",\n        "english": "?",\n        "russian": ","\n    }\n]\n    '),a=new class{constructor(){}russianFlag=localStorage.getItem("russianFlag")||"false";isCapslock=!1;isShift=!1};console.log(a);const i=document.querySelectorAll(".main-symbol"),t=document.querySelectorAll(".symbol");function e(){a.isCapslock||"false"!==a.russianFlag||(i.forEach(((s,a)=>{s.innerText=n[a].english})),t.forEach(((n,a)=>{n.innerText=s[a].english}))),a.isCapslock&&"false"===a.russianFlag&&(i.forEach(((s,a)=>{s.textContent=n[a].english_caps})),t.forEach(((n,a)=>{n.innerText=s[a].english}))),a.isCapslock&&"true"===a.russianFlag&&(i.forEach(((s,a)=>{s.textContent=n[a].russian_caps})),t.forEach(((n,a)=>{n.innerText=s[a].russian}))),a.isCapslock||"true"!==a.russianFlag||(i.forEach(((s,a)=>{s.textContent=n[a].russian})),t.forEach(((n,a)=>{n.innerText=s[a].russian})))}function u(n){const s=n.target.parentElement.id||n.target.id,i=document.querySelector(`button[id="${s}"]`);"CapsLock"===s&&(i.classList.toggle("push"),!0===a.isCapslock?a.isCapslock=!1:a.isCapslock=!0,console.log(a),e())}const l=document.querySelector(".textarea");function o(s){const i=s.target.parentElement.id||s.target.id;l.focus(),"CapsLock"!==i&&n.forEach((n=>{n.code===i&&"Enter"===i&&(l.value+="\n"),n.code===i&&"Backspace"===i&&(l.value=l.value.slice(0,str.length-1)),n.code===i&&"true"===n.output&&(a.isCapslock||"false"!==a.russianFlag||a.isShift||(l.value+=n.english),a.isCapslock&&"false"===a.russianFlag&&!a.isShift&&(l.value+=n.english_caps),a.isCapslock||"true"!==a.russianFlag||a.isShift||(l.value+=n.russian),a.isCapslock&&"true"===a.russianFlag&&!a.isShift&&(l.value+=n.russian_caps),!a.isCapslock&&"false"===a.russianFlag&&a.isShift&&(l.value+=n.english_shift),a.isCapslock&&"false"===a.russianFlag&&a.isShift&&(l.value+=n.english),!a.isCapslock&&"true"===a.russianFlag&&a.isShift&&(l.value+=n.russian_shift),a.isCapslock&&"true"===a.russianFlag&&a.isShift&&(l.value+=n.russian))}))}const c=document.querySelectorAll(".keyboard__input button");c.forEach(((s,a)=>{s.setAttribute("id",`${n[a].code}`)})),document.body.addEventListener("keydown",(function(n){const s=document.querySelector(`button[id="${n.code}"]`);"CapsLock"!==n.code?s.classList.add("push"):s.classList.toggle("push")})),document.body.addEventListener("keydown",(function(n){"CapsLock"===n.code&&(a.isCapslock=!a.isCapslock,e())})),document.body.addEventListener("keydown",(function(n){"ShiftRight"!==n.code&&"ShiftLeft"!==n.code||(a.isShift=!0,console.log(a))})),document.body.addEventListener("keydown",(function(s){l.focus(),n.forEach((n=>{n.code===s.code&&"Enter"===n.code&&(s.preventDefault(),l.value+="\n"),n.code===s.code&&"Backspace"===n.code&&(s.preventDefault(),l.value=l.value.slice(0,l.value.length-1)),n.code===s.code&&"true"===n.output&&(s.preventDefault(),a.isCapslock||"false"!==a.russianFlag||a.isShift||(l.value+=n.english),a.isCapslock&&"false"===a.russianFlag&&!a.isShift&&(l.value+=n.english_caps),a.isCapslock||"true"!==a.russianFlag||a.isShift||(l.value+=n.russian),a.isCapslock&&"true"===a.russianFlag&&!a.isShift&&(l.value+=n.russian_caps),!a.isCapslock&&"false"===a.russianFlag&&a.isShift&&(l.value+=n.english_shift),a.isCapslock&&"false"===a.russianFlag&&a.isShift&&(l.value+=n.english),!a.isCapslock&&"true"===a.russianFlag&&a.isShift&&(l.value+=n.russian_shift),a.isCapslock&&"true"===a.russianFlag&&a.isShift&&(l.value+=n.russian))}))})),c.forEach((n=>n.addEventListener("click",u))),c.forEach((n=>n.addEventListener("click",o))),window.addEventListener("keyup",(function(n){"ShiftRight"!==n.code&&"ShiftLeft"!==n.code||(a.isShift=!1)})),window.addEventListener("keyup",(function(n){"CapsLock"!==n.code&&document.querySelector(`button[id="${n.code}"]`).classList.remove("push")})),function(){const u=[];document.addEventListener("keydown",(function(n){u.push(n.code),2===u.length&&-1!==u.indexOf("ShiftLeft")&&-1!==u.indexOf("AltLeft")&&("false"===a.russianFlag?a.russianFlag="true":a.russianFlag="false",e())})),document.addEventListener("keyup",(function(){0!==u.length&&(u.length=0)})),window.addEventListener("beforeunload",(function(){localStorage.setItem("russianFlag",a.russianFlag)})),window.addEventListener("load",(function(){localStorage.getItem("russianFlag")&&(a.russianFlag=localStorage.getItem("russianFlag")),"true"===localStorage.getItem("russianFlag")&&(i.forEach(((s,a)=>{s.textContent=n[a].russian})),t.forEach(((n,a)=>{n.innerText=s[a].russian})))}))}()})();